# Infrastructure

Web application in AWS using Cloudfront and S3 for site hosting, Cognito for user authentication and IoT for message dispatching.

![AWS Cloudformation](https://raw.githubusercontent.com/gianksp/warbots/master/infrastructure/diagram.svg?sanitize=true)

### Hosting
A cloudfront distribution for the static website and another cloudfront distribution for the simulator app, each in its own S3 bucket.

### IoT
When the player visits https://warbots.io an autogenerated link will be created and displayed. This link is then referenced from the BotOS.py or any other client when ran and the communication link will start. Bot events will be transmitted from the WebGL simulator to the python client and bot actions will be transmitted from the python client upstream towards the WebGL simulator

Through IoT internally 2 topics per link are created:
***{link}-upstream*** client -> simulator (Bot actions)  
***{link}-downstream*** simulator -> client (Bot events)

### Cognito

Handles Identity Pools and access to IoT.

### Web App

ReactJS Web App hosted in S3. Implements the AWS SDK for interacting with Cognito and IoT and is in charge of passing and receiving information from the WebGL client via Javascript events.

### Simulator

Unity3D application. Interacts with Javascript events to send and receive information. Provides an API for bot actions and events interaction with client applications.

